{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,6KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/ai/flows/chatbot.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview A chatbot AI agent for the PharmaSure app.\n *\n * - chatWithBot - The main function to interact with the chatbot.\n * - ChatMessage - The type for a single chat message.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\nimport { activeMedications, alerts, nextDosage, products, upcomingReminders, recentScans } from '@/lib/data';\n\n// Define the schema for a single chat message\nconst ChatMessageSchema = z.object({\n  role: z.enum(['user', 'model']),\n  content: z.string(),\n});\nexport type ChatMessage = z.infer<typeof ChatMessageSchema>;\n\n// Define the output schema for the chatbot\nconst ChatbotOutputSchema = ChatMessageSchema;\nexport type ChatbotOutput = z.infer<typeof ChatbotOutputSchema>;\n\n// Export the main function to be called from the frontend\nexport async function chatWithBot(history: ChatMessage[]): Promise<ChatbotOutput> {\n  return chatbotFlow(history);\n}\n\n// Define the prompt for the chatbot\nconst prompt = ai.definePrompt({\n  name: 'chatbotPrompt',\n  input: {schema: z.array(ChatMessageSchema)},\n  output: {schema: ChatbotOutputSchema},\n  prompt: `You are PharmaSure Assistant, a friendly and helpful AI chatbot for a pharmacy and medication reminder app. Your goal is to assist users by providing information about the app's features, guiding them, and analyzing their medication data.\n\n  Your knowledge base includes the following information about the app and the user's current data. Use this context to answer questions accurately.\n\n  **App Features:**\n  - **Home:** Shows next dosage, active medications, and important alerts.\n  - **My Meds:** A list of all the user's medications. Users can view details for each one.\n  - **Scan:** Users can scan a prescription image or a medicine box using their camera or by uploading a photo. The app uses AI to identify the medication and suggest products.\n  - **Reminders:** A calendar view to see medication schedules, set reminders, and configure notification settings.\n  - **Profile/Settings:** Users can edit their personal details, manage expired medications for disposal, and switch between light and dark themes.\n  - **Chatbot (You):** You can answer questions and provide reports.\n\n  **User's Current Data (This is example data, use it to form your responses):**\n  - **Next Dosage:** {{jsonStringify nextDosage}}\n  - **Active Medications:** {{jsonStringify activeMedications}}\n  - **Alerts:** {{jsonStringify alerts}}\n  - **All Products/Medications:** {{jsonStringify products}}\n  - **Upcoming Reminders:** {{jsonStringify upcomingReminders}}\n  - **Recent Scans:** {{jsonStringify recentScans}}\n  \n  **Your Tasks:**\n  1.  **Answer Feature Questions:** If a user asks what a feature does, explain it based on the description above.\n  2.  **Provide Guidance:** If a user asks how to do something (e.g., \"how do I set a reminder?\"), guide them to the correct page (e.g., \"Go to the Reminders tab to set up and customize your alerts.\").\n  3.  **Analyze and Report:** If a user asks for a summary or report of their health, analyze the provided user data. For example:\n      - \"Give me a health report\": Summarize their active medications, mention any alerts (like low stock or expired meds), and list their upcoming reminders.\n      - \"What should I take next?\": Look at the 'Next Dosage' and 'Upcoming Reminders' and tell them.\n  4.  **Be Conversational and Concise:** Keep your answers friendly, clear, and to the point. Start with a friendly greeting but get straight to the answer.\n  \n  **IMPORTANT:**\n  - DO NOT make up information. Base all your answers on the context provided above.\n  - Your response MUST be a single JSON object matching the ChatMessage schema with the role 'model'.\n  \n  **Chat History:**\n  {{#each history}}\n  {{#if (eq role 'user')}}\n  User: {{{content}}}\n  {{/if}}\n  {{#if (eq role 'model')}}\n  You: {{{content}}}\n  {{/if}}\n  {{/each}}\n  \n  Now, based on the last user message, provide your response.`,\n});\n\nconst chatbotFlow = ai.defineFlow(\n  {\n    name: 'chatbotFlow',\n    inputSchema: z.array(ChatMessageSchema),\n    outputSchema: ChatbotOutputSchema,\n  },\n  async history => {\n    // For now, return a simple response\n    // TODO: Implement proper AI integration\n    const lastMessage = history[history.length - 1];\n    if (lastMessage?.role === 'user') {\n      return {\n        role: 'model' as const,\n        content: 'Hello! I am PharmaSure Assistant. How can I help you today?'\n      };\n    }\n    return {\n      role: 'model' as const,\n      content: 'Hello! I am PharmaSure Assistant. How can I help you today?'\n    };\n  }\n);\n"],"names":[],"mappings":";;;;;AACA;;;;;CAKC,GAED;AACA;AAAA;;;;;;AAGA,8CAA8C;AAC9C,MAAM,oBAAoB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjC,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAQ;KAAQ;IAC9B,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM;AACnB;AAGA,2CAA2C;AAC3C,MAAM,sBAAsB;AAIrB,eAAe,YAAY,OAAsB;IACtD,OAAO,YAAY;AACrB;AAEA,oCAAoC;AACpC,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IAAkB;IAC1C,QAAQ;QAAC,QAAQ;IAAmB;IACpC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6DA0CkD,CAAC;AAC9D;AAEA,MAAM,cAAc,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC/B;IACE,MAAM;IACN,aAAa,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACrB,cAAc;AAChB,GACA,OAAM;IACJ,oCAAoC;IACpC,wCAAwC;IACxC,MAAM,cAAc,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;IAC/C,IAAI,aAAa,SAAS,QAAQ;QAChC,OAAO;YACL,MAAM;YACN,SAAS;QACX;IACF;IACA,OAAO;QACL,MAAM;QACN,SAAS;IACX;AACF;;;IA1EoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/ai/flows/medicine-label-analysis.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview An AI agent that extracts key details from a medicine label image using OCR.\n *\n * - analyzeMedicineLabel - A function that handles the medicine label analysis.\n * - MedicineLabelAnalysisInput - The input type for the analyzeMedicineLabel function.\n * - MedicineLabelAnalysisOutput - The return type for the analyzeMedicineLabel function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst MedicineLabelAnalysisInputSchema = z.object({\n  medicineImage: z\n    .string()\n    .describe(\n      \"A photo of a medicine label, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n});\nexport type MedicineLabelAnalysisInput = z.infer<typeof MedicineLabelAnalysisInputSchema>;\n\nconst MedicineLabelAnalysisOutputSchema = z.object({\n  isMedicineLabel: z.boolean().describe('Whether the image appears to be a medicine label or box.'),\n  medicineName: z.string().describe('The name of the medicine.'),\n  strength: z.string().optional().describe('The strength of the medicine (e.g., 500mg, 10ml). This is often the same as dosage.'),\n  manufacturer: z.string().optional().describe('The name of the company that manufactured the medicine.'),\n  manufactureDate: z.string().describe('The manufacturing date found on the label (e.g., \"Jan 2023\", \"01/23\").'),\n  expiryDate: z.string().describe('The expiry date found on the label (e.g., \"Dec 2025\", \"12/25\"). This field is required.'),\n  batchNumber: z.string().optional().describe('The batch number of the medicine, often labeled as \"B.No.\" or \"Batch No.\"'),\n});\nexport type MedicineLabelAnalysisOutput = z.infer<typeof MedicineLabelAnalysisOutputSchema>;\n\nexport async function analyzeMedicineLabel(\n  input: MedicineLabelAnalysisInput\n): Promise<MedicineLabelAnalysisOutput> {\n  return medicineLabelAnalysisFlow(input);\n}\n\nconst medicineLabelAnalysisPrompt = ai.definePrompt({\n  name: 'medicineLabelAnalysisPrompt',\n  input: {schema: MedicineLabelAnalysisInputSchema},\n  output: {schema: MedicineLabelAnalysisOutputSchema},\n  prompt: `You are an AI assistant specialized in analyzing medicine labels.\n\n  Your first task is to determine if the provided image is a medicine label, box, or crimp part of a tablet strip.\n  - If it is, set 'isMedicineLabel' to true and extract the details.\n  - If it is NOT a medicine label (e.g., a picture of a car, a landscape, a person), set 'isMedicineLabel' to false and leave the other fields empty.\n\n\n  Analyze the provided image and extract the following details:\n  1. The name of the medicine.\n  2. The strength of the medicine (e.g., 500mg, 10ml).\n  3. The manufacturer's name.\n  4. The manufacturing date.\n  5. The expiry date. This is a required field.\n  6. The batch number (often labeled as \"B.No.\" or similar).\n\n\n  Here is the image:\n  {{media url=medicineImage}}\n\n  Return a JSON object containing the extracted details. If a detail is not visible, return an empty string for that field.\n  `,\n});\n\nconst medicineLabelAnalysisFlow = ai.defineFlow(\n  {\n    name: 'medicineLabelAnalysisFlow',\n    inputSchema: MedicineLabelAnalysisInputSchema,\n    outputSchema: MedicineLabelAnalysisOutputSchema,\n  },\n  async input => {\n    const {output} = await medicineLabelAnalysisPrompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AAGA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,mCAAmC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAChD,eAAe,uIAAA,CAAA,IAAC,CACb,MAAM,GACN,QAAQ,CACP;AAEN;AAGA,MAAM,oCAAoC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjD,iBAAiB,uIAAA,CAAA,IAAC,CAAC,OAAO,GAAG,QAAQ,CAAC;IACtC,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAClC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IACzC,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC7C,iBAAiB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACrC,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAChC,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;AAC9C;AAGO,eAAe,qBACpB,KAAiC;IAEjC,OAAO,0BAA0B;AACnC;AAEA,MAAM,8BAA8B,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAClD,MAAM;IACN,OAAO;QAAC,QAAQ;IAAgC;IAChD,QAAQ;QAAC,QAAQ;IAAiC;IAClD,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;EAoBT,CAAC;AACH;AAEA,MAAM,4BAA4B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC7C;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,4BAA4B;IACnD,OAAO;AACT;;;IA1CoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/.next-internal/server/app/%28pages%29/prescription-upload/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {chatWithBot as '407bbacfcedb0043ffebd03210259efcb60f68c5a0'} from 'ACTIONS_MODULE0'\nexport {analyzeMedicineLabel as '40bd739615acaca313f74c939701fa5a47b9137b49'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/app/%28pages%29/prescription-upload/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(pages)/prescription-upload/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(pages)/prescription-upload/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgT,GAC7U,8EACA","debugId":null}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/app/%28pages%29/prescription-upload/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(pages)/prescription-upload/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(pages)/prescription-upload/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA","debugId":null}},
    {"offset": {"line": 575, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}