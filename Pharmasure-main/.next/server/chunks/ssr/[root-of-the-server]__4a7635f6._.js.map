{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,6KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/ai/flows/chatbot.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview A chatbot AI agent for the PharmaSure app.\n *\n * - chatWithBot - The main function to interact with the chatbot.\n * - ChatMessage - The type for a single chat message.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\nimport { activeMedications, alerts, nextDosage, products, upcomingReminders, recentScans } from '@/lib/data';\n\n// Define the schema for a single chat message\nconst ChatMessageSchema = z.object({\n  role: z.enum(['user', 'model']),\n  content: z.string(),\n});\nexport type ChatMessage = z.infer<typeof ChatMessageSchema>;\n\n// Define the output schema for the chatbot\nconst ChatbotOutputSchema = ChatMessageSchema;\nexport type ChatbotOutput = z.infer<typeof ChatbotOutputSchema>;\n\n// Export the main function to be called from the frontend\nexport async function chatWithBot(history: ChatMessage[]): Promise<ChatbotOutput> {\n  return chatbotFlow(history);\n}\n\n// Define the prompt for the chatbot\nconst prompt = ai.definePrompt({\n  name: 'chatbotPrompt',\n  input: {schema: z.array(ChatMessageSchema)},\n  output: {schema: ChatbotOutputSchema},\n  prompt: `You are PharmaSure Assistant, a friendly and helpful AI chatbot for a pharmacy and medication reminder app. Your goal is to assist users by providing information about the app's features, guiding them, and analyzing their medication data.\n\n  Your knowledge base includes the following information about the app and the user's current data. Use this context to answer questions accurately.\n\n  **App Features:**\n  - **Home:** Shows next dosage, active medications, and important alerts.\n  - **My Meds:** A list of all the user's medications. Users can view details for each one.\n  - **Scan:** Users can scan a prescription image or a medicine box using their camera or by uploading a photo. The app uses AI to identify the medication and suggest products.\n  - **Reminders:** A calendar view to see medication schedules, set reminders, and configure notification settings.\n  - **Profile/Settings:** Users can edit their personal details, manage expired medications for disposal, and switch between light and dark themes.\n  - **Chatbot (You):** You can answer questions and provide reports.\n\n  **User's Current Data (This is example data, use it to form your responses):**\n  - **Next Dosage:** {{jsonStringify nextDosage}}\n  - **Active Medications:** {{jsonStringify activeMedications}}\n  - **Alerts:** {{jsonStringify alerts}}\n  - **All Products/Medications:** {{jsonStringify products}}\n  - **Upcoming Reminders:** {{jsonStringify upcomingReminders}}\n  - **Recent Scans:** {{jsonStringify recentScans}}\n  \n  **Your Tasks:**\n  1.  **Answer Feature Questions:** If a user asks what a feature does, explain it based on the description above.\n  2.  **Provide Guidance:** If a user asks how to do something (e.g., \"how do I set a reminder?\"), guide them to the correct page (e.g., \"Go to the Reminders tab to set up and customize your alerts.\").\n  3.  **Analyze and Report:** If a user asks for a summary or report of their health, analyze the provided user data. For example:\n      - \"Give me a health report\": Summarize their active medications, mention any alerts (like low stock or expired meds), and list their upcoming reminders.\n      - \"What should I take next?\": Look at the 'Next Dosage' and 'Upcoming Reminders' and tell them.\n  4.  **Be Conversational and Concise:** Keep your answers friendly, clear, and to the point. Start with a friendly greeting but get straight to the answer.\n  \n  **IMPORTANT:**\n  - DO NOT make up information. Base all your answers on the context provided above.\n  - Your response MUST be a single JSON object matching the ChatMessage schema with the role 'model'.\n  \n  **Chat History:**\n  {{#each history}}\n  {{#if (eq role 'user')}}\n  User: {{{content}}}\n  {{/if}}\n  {{#if (eq role 'model')}}\n  You: {{{content}}}\n  {{/if}}\n  {{/each}}\n  \n  Now, based on the last user message, provide your response.`,\n});\n\nconst chatbotFlow = ai.defineFlow(\n  {\n    name: 'chatbotFlow',\n    inputSchema: z.array(ChatMessageSchema),\n    outputSchema: ChatbotOutputSchema,\n  },\n  async history => {\n    // For now, return a simple response\n    // TODO: Implement proper AI integration\n    const lastMessage = history[history.length - 1];\n    if (lastMessage?.role === 'user') {\n      return {\n        role: 'model' as const,\n        content: 'Hello! I am PharmaSure Assistant. How can I help you today?'\n      };\n    }\n    return {\n      role: 'model' as const,\n      content: 'Hello! I am PharmaSure Assistant. How can I help you today?'\n    };\n  }\n);\n"],"names":[],"mappings":";;;;;AACA;;;;;CAKC,GAED;AACA;AAAA;;;;;;AAGA,8CAA8C;AAC9C,MAAM,oBAAoB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjC,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAQ;KAAQ;IAC9B,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM;AACnB;AAGA,2CAA2C;AAC3C,MAAM,sBAAsB;AAIrB,eAAe,YAAY,OAAsB;IACtD,OAAO,YAAY;AACrB;AAEA,oCAAoC;AACpC,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IAAkB;IAC1C,QAAQ;QAAC,QAAQ;IAAmB;IACpC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6DA0CkD,CAAC;AAC9D;AAEA,MAAM,cAAc,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC/B;IACE,MAAM;IACN,aAAa,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACrB,cAAc;AAChB,GACA,OAAM;IACJ,oCAAoC;IACpC,wCAAwC;IACxC,MAAM,cAAc,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;IAC/C,IAAI,aAAa,SAAS,QAAQ;QAChC,OAAO;YACL,MAAM;YACN,SAAS;QACX;IACF;IACA,OAAO;QACL,MAAM;QACN,SAAS;IACX;AACF;;;IA1EoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/ai/schemas/health-report-schema.ts"],"sourcesContent":["import { z } from 'zod';\n\n// Define a Zod schema for each type from '@/lib/types' to ensure type safety in the flow.\nconst UserProfileSchema = z.object({\n    firstName: z.string().nullable(),\n    lastName: z.string().nullable(),\n    age: z.number().optional(),\n    gender: z.string().nullable(),\n    healthIssues: z.array(z.string()).optional(),\n    // Omit fields that are not relevant for the report\n}).passthrough(); // Use passthrough to allow other fields from the original type\n\nconst MedicationSchema = z.object({\n    id: z.string(),\n    name: z.string(),\n    daysLeft: z.number(),\n});\n\nconst AlertSchema = z.object({\n    id: z.string(),\n    title: z.string(),\n    subtitle: z.string(),\n    type: z.enum(['error', 'warning']),\n});\n\nconst DisposalRecordSchema = z.object({\n    id: z.string(),\n    medName: z.string(),\n    disposalDate: z.string(),\n    method: z.string(),\n    status: z.string(),\n});\n\nconst NextDosageSchema = z.object({\n    medication: z.string(),\n    instruction: z.string(),\n    time: z.string(),\n}).nullable();\n\nconst HealthStatsSchema = z.object({\n    totalMeds: z.number(),\n    activeMeds: z.number(),\n    adherenceRate: z.number(),\n    missedDoses: z.number(),\n    disposals: z.number(),\n    improvementScore: z.number(),\n});\n\n// Define the input schema for the AI flow\nexport const HealthReportInputSchema = z.object({\n  userProfile: UserProfileSchema,\n  healthStats: HealthStatsSchema,\n  medications: z.array(MedicationSchema),\n  alerts: z.array(AlertSchema),\n  disposalHistory: z.array(DisposalRecordSchema),\n  nextDosage: NextDosageSchema.optional(),\n});\nexport type HealthReportInput = z.infer<typeof HealthReportInputSchema>;\n\n// Define the output schema for the AI flow\nexport const HealthReportOutputSchema = z.object({\n  patientOverview: z.string().describe(\"A brief, one-paragraph summary of the patient's profile and key health stats.\"),\n  adherenceAnalysis: z.string().describe(\"A detailed analysis of medication adherence, mentioning the adherence rate, missed doses, and overall consistency. Provide an encouraging tone.\"),\n  keyInsightsAndAlerts: z.string().describe(\"A summary of critical alerts, such as low stock or expired medications, and any other important insights derived from the user's data.\"),\n  disposalSummary: z.string().describe(\"A summary of the user's medication disposal activity, highlighting responsible disposal practices.\"),\n  recommendations: z.string().describe(\"Actionable recommendations for the user to improve their health management, based on all the provided data. Suggest specific actions they can take within the app.\"),\n});\nexport type HealthReportOutput = z.infer<typeof HealthReportOutputSchema>;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,0FAA0F;AAC1F,MAAM,oBAAoB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/B,WAAW,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC9B,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC7B,KAAK,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACxB,QAAQ,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC3B,cAAc,oIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,oIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ;AAE9C,GAAG,WAAW,IAAI,+DAA+D;AAEjF,MAAM,mBAAmB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC9B,IAAI,oIAAA,CAAA,IAAC,CAAC,MAAM;IACZ,MAAM,oIAAA,CAAA,IAAC,CAAC,MAAM;IACd,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM;AACtB;AAEA,MAAM,cAAc,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzB,IAAI,oIAAA,CAAA,IAAC,CAAC,MAAM;IACZ,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM;IACf,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM;IAClB,MAAM,oIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAS;KAAU;AACrC;AAEA,MAAM,uBAAuB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClC,IAAI,oIAAA,CAAA,IAAC,CAAC,MAAM;IACZ,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM;IACjB,cAAc,oIAAA,CAAA,IAAC,CAAC,MAAM;IACtB,QAAQ,oIAAA,CAAA,IAAC,CAAC,MAAM;IAChB,QAAQ,oIAAA,CAAA,IAAC,CAAC,MAAM;AACpB;AAEA,MAAM,mBAAmB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC9B,YAAY,oIAAA,CAAA,IAAC,CAAC,MAAM;IACpB,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM;IACrB,MAAM,oIAAA,CAAA,IAAC,CAAC,MAAM;AAClB,GAAG,QAAQ;AAEX,MAAM,oBAAoB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/B,WAAW,oIAAA,CAAA,IAAC,CAAC,MAAM;IACnB,YAAY,oIAAA,CAAA,IAAC,CAAC,MAAM;IACpB,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM;IACvB,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM;IACrB,WAAW,oIAAA,CAAA,IAAC,CAAC,MAAM;IACnB,kBAAkB,oIAAA,CAAA,IAAC,CAAC,MAAM;AAC9B;AAGO,MAAM,0BAA0B,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC9C,aAAa;IACb,aAAa;IACb,aAAa,oIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACrB,QAAQ,oIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IAChB,iBAAiB,oIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACzB,YAAY,iBAAiB,QAAQ;AACvC;AAIO,MAAM,2BAA2B,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/C,iBAAiB,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACrC,mBAAmB,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACvC,sBAAsB,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1C,iBAAiB,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACrC,iBAAiB,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACvC","debugId":null}},
    {"offset": {"line": 475, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/ai/flows/health-report-generation.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview An AI agent that generates a comprehensive health report for a user.\n *\n * - generateHealthReport - The main function to trigger the report generation.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { HealthReportInputSchema, HealthReportOutputSchema, type HealthReportInput, type HealthReportOutput } from '@/ai/schemas/health-report-schema';\n\n// Re-export the type for external use\nexport type { HealthReportOutput };\n\n// Export the main function to be called from the frontend\nexport async function generateHealthReport(input: HealthReportInput): Promise<HealthReportOutput> {\n  return healthReportFlow(input);\n}\n\n\nconst prompt = ai.definePrompt({\n  name: 'healthReportPrompt',\n  input: { schema: HealthReportInputSchema },\n  output: { schema: HealthReportOutputSchema },\n  prompt: `You are a health assistant AI for the PharmaSure app. Your task is to generate a comprehensive, easy-to-understand health report for a user based on the JSON data provided.\n\n  The report should be structured into the following sections:\n  1.  **Patient Overview**: Start with a brief summary of the user, including their name, age, and any noted health issues.\n  2.  **Medication Adherence Analysis**: Analyze their adherence rate and missed doses. Offer encouragement and gentle reminders.\n  3.  **Key Health Insights & Alerts**: Highlight any critical alerts (like expired medicine or low stock). Mention their next upcoming dose if available.\n  4.  **Disposal Activity Summary**: Briefly summarize their disposal history, commending them for safe practices.\n  5.  **Recommendations**: Provide actionable advice. If adherence is low, suggest setting up reminders in the 'Reminders' tab. If there are expired meds, guide them to the 'Profile > Disposal' section.\n\n  Here is the user's data:\n  - Profile: {{jsonStringify userProfile}}\n  - Health Stats: {{jsonStringify healthStats}}\n  - Active Medications: {{jsonStringify medications}}\n  - Current Alerts: {{jsonStringify alerts}}\n  - Disposal History: {{jsonStringify disposalHistory}}\n  - Next Dosage: {{jsonStringify nextDosage}}\n\n  Generate a report that is clear, empathetic, and helpful. Use markdown for formatting if necessary (e.g., bullet points for recommendations).\n  `,\n});\n\nconst healthReportFlow = ai.defineFlow(\n  {\n    name: 'healthReportFlow',\n    inputSchema: HealthReportInputSchema,\n    outputSchema: HealthReportOutputSchema,\n  },\n  async (input) => {\n    const { output } = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AAGA;;;;CAIC,GAED;AACA;;;;;;AAMO,eAAe,qBAAqB,KAAwB;IACjE,OAAO,iBAAiB;AAC1B;AAGA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAE,QAAQ,kJAAA,CAAA,0BAAuB;IAAC;IACzC,QAAQ;QAAE,QAAQ,kJAAA,CAAA,2BAAwB;IAAC;IAC3C,QAAQ,CAAC;;;;;;;;;;;;;;;;;;EAkBT,CAAC;AACH;AAEA,MAAM,mBAAmB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACpC;IACE,MAAM;IACN,aAAa,kJAAA,CAAA,0BAAuB;IACpC,cAAc,kJAAA,CAAA,2BAAwB;AACxC,GACA,OAAO;IACL,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,OAAO;IAChC,OAAO;AACT;;;IAvCoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/.next-internal/server/app/%28pages%29/profile/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {chatWithBot as '407bbacfcedb0043ffebd03210259efcb60f68c5a0'} from 'ACTIONS_MODULE0'\nexport {generateHealthReport as '40c829ffa2f9b6f6ae8de16dde11f764237b0581a3'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/app/%28pages%29/profile/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(pages)/profile/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(pages)/profile/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","debugId":null}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahes/OneDrive/Desktop/VIBE/Pharmasure-main/src/app/%28pages%29/profile/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(pages)/profile/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(pages)/profile/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","debugId":null}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}